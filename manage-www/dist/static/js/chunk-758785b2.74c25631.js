(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-758785b2"],{"5fd8":function(e,a,t){"use strict";t.d(a,"c",(function(){return n})),t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return i}));var n=[{value:1,label:"银行卡转账"},{value:2,label:"银联扫码"},{value:3,label:"支付宝"},{value:4,label:"微信"}],r=[{value:0,label:"启用"},{value:1,label:"停用"}],i=[{value:0,label:"所有"},{value:1,label:"电脑端"},{value:2,label:"移动端"}]},"866f":function(e,a,t){"use strict";var n=t("be57");t.n(n).a},"9f6c":function(e,a,t){"use strict";t.r(a),t("4de4"),t("caad"),t("a15b"),t("d81d"),t("b0c0"),t("d3b7"),t("2532"),t("96cf");var n=t("5fd8"),r={mixins:[t("2ddf").a],data:function(){return{loading:!1,total:0,listQuery:{page:1,leagueUserName:""},queryColumns:[{type:"input",prop:"leagueUserName",label:"账户名"}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"开户银行",prop:"bankName",align:"left",valign:"middle",minWidth:"10%",visible:!0},{label:"开户行网点",prop:"bankBranch",align:"left",valign:"middle",minWidth:"15%",visible:!0},{label:"银行账号",prop:"bankCardId",align:"center",valign:"middle",minWidth:"15%",visible:!0},{label:"账户名",prop:"bankCardName",align:"center",valign:"middle",minWidth:"8%",visible:!0},{label:"会员分类",prop:"forUsers",align:"center",valign:"middle",minWidth:"8%",visible:!0},{label:"平台显示",prop:"platform",align:"center",valign:"middle",minWidth:"8%",visible:!0,slotName:"platform-column"},{label:"渠道类型",prop:"payType",align:"center",valign:"middle",minWidth:"8%",visible:!0,slotName:"payType-column"},{label:"状态",prop:"isStop",align:"center",valign:"middle",minWidth:"8%",visible:!0,slotName:"isStop-column"},{label:"备注",prop:"mark",align:"center",valign:"middle",minWidth:"8%",visible:!1}],data:[],checked:[],handleType:0,addVisible:!1,form:{id:-1,isStop:0,bankId:"",branch:"",cardName:"",cardId:"",feeRate:"",payType:"",platform:"",forUsers:"",mark:""},formColumns:[{type:"select",label:"开户银行",prop:"bankId",options:[]},{type:"input",label:"开户行网点",prop:"branch",placeholder:"必填"},{type:"input",label:"银行账号",prop:"cardId",placeholder:"必填"},{type:"input",label:"账户名",prop:"cardName",placeholder:"必填"},{type:"input",label:"手续费率",prop:"feeRate",placeholder:"必填"},{label:"会员分类",prop:"memberLevel",slotName:"memberLevel-column"},{type:"select",label:"平台显示",prop:"platform",options:n.a},{type:"select",label:"渠道类型",prop:"payType",options:n.c},{type:"textarea",label:"备注",prop:"mark"}],memberLevel:[{label:"A",value:1},{label:"B",value:1},{label:"C",value:1},{label:"D",value:1},{label:"E",value:1},{label:"F",value:1},{label:"G",value:1},{label:"H",value:1}]}},created:function(){this.getList()},methods:{getList:function(){var e,a,t,n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.loading=!0,r.next=3,regeneratorRuntime.awrap(this.$api.bankCardList());case 3:e=r.sent,a=e.data,t=a.banks,n=a.list,this.formColumns[0].options=t.map((function(e){return{label:e.name,value:e.id}})),this.data=n,this.loading=!1;case 9:case"end":return r.stop()}}),null,this)},handleSearch:function(){this.getList()},handleAdd:function(){var e=this;this.handleType=0,this.addVisible=!0,this.$nextTick((function(){e.form=e.$options.data().form,e.memberLevel=e.$options.data().memberLevel}))},handleEdit:function(){var e=this;this.handleType=1,this.addVisible=!0,this.$nextTick((function(){e.$refs.jsonForm.clearValidate();var a=e.checked[0];e.form.id=a.id,e.form.isStop=a.isStop,e.form.bankId=a.bankId,e.form.branch=a.bankBranch,e.form.cardName=a.bankCardName,e.form.cardId=a.bankCardId,e.form.feeRate=a.fee,e.form.payType=a.payType,e.form.platform=a.platform,e.form.forUsers=a.forUsers,e.form.mark=a.mark,e.memberLevel=e.memberLevel.map((function(e){return e.value=1,a.forUsers.includes(e.label)&&(e.value=0),e}))}))},sureAdd:function(){var e=this;this.$refs.jsonForm.validate((function(a){var t;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.form.forUsers=e.memberLevel.filter((function(e){return!e.value})).map((function(e){return e.label})).join(","),a.next=3,regeneratorRuntime.awrap(e.$api.addBankCard(e.form));case 3:t=a.sent,!t.error&&e.$message.success("提交成功"),e.getList(),e.addVisible=!1;case 8:case"end":return a.stop()}}))}))},upOrDown:function(e){var a,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.checked[0].isStop!==e){n.next=2;break}return n.abrupt("return",!1);case 2:return a={id:this.checked[0].id,status:1-this.checked[0].isStop},n.next=5,regeneratorRuntime.awrap(this.$api.updateBankCardStatus(a));case 5:t=n.sent,!t.error&&this.$message.success("提交成功"),this.getList();case 9:case"end":return n.stop()}}),null,this)}}},i=t("2877"),s=Object(i.a)(r,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"module-query"},[t("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),t("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(a){e.listQuery=a}}})],1),t("div",{staticClass:"module-handle"},[t("div",[t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.handleAdd},expression:"{ fn: handleAdd }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("增加 ")],1),t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.handleEdit,validate:e.checkValidate},expression:"{ fn: handleEdit, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("编辑 ")],1),t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.upOrDown,args:0,validate:e.checkValidate},expression:"{ fn: upOrDown, args: 0, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("开启 ")],1),t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.upOrDown,args:1,validate:e.checkValidate},expression:"{ fn: upOrDown, args: 1, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("停用 ")],1),t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.handleRemove,args:"delBankCard",validate:e.checkValidate},expression:"{ fn: handleRemove, args: 'delBankCard', validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("删除 ")],1)]),t("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(a){e.tableColumns=a}}})],1),t("div",{staticClass:"container-wrap"},[t("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,total:e.total,height:"calc(100vh - 300px)",page:e.listQuery.pageNumber},on:{"update:page":function(a){return e.$set(e.listQuery,"pageNumber",a)},pagination:e.getList,"selection-change":function(a){e.checked=a}},scopedSlots:e._u([{key:"platform-column",fn:function(a){var n=a.row;return[t("div",{class:[1===n.platform?"tag-gray":"tag-green"]},[e._v(" "+e._s(e._f("formatterPlatform")(n.platform))+" ")])]}},{key:"isStop-column",fn:function(a){var n=a.row;return[t("div",{class:["tag-blue","tag-red"][n.isStop]},[e._v(" "+e._s(["启用","停用"][n.isStop])+" ")])]}},{key:"payType-column",fn:function(a){var n=a.row;return[t("div",{staticClass:"tag-gray"},[e._v(" "+e._s(e._f("formatterPayType")(n.payType))+" ")])]}}])})],1),t("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"站点银行账号-"+(e.handleType?"编辑":"新增"),visible:e.addVisible,width:"50%"},on:{"update:visible":function(a){e.addVisible=a}}},[t("div",{staticClass:"module-form-scroll"},[t("el-scrollbar",[t("json-form",{ref:"jsonForm",attrs:{form:e.form,columns:e.formColumns,"label-width":"100px"}},[t("template",{slot:"memberLevel-column"},e._l(e.memberLevel,(function(a){return t("CheckBtn",{key:a.label,attrs:{name:a.label,value:a.value},on:{"update:value":function(t){return e.$set(a,"value",t)}}})})),1)],2)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"primary-btn small-btn",on:{click:e.sureAdd}},[e._v(" 保存 ")]),t("div",{staticClass:"disabled-btn small-btn ml16",on:{click:function(a){e.addVisible=!1}}},[e._v(" 取消 ")])])])],1)}),[],!1,null,null,null);a.default=s.exports},be57:function(e,a,t){},c123:function(e,a,t){var n={"./bankconfig.vue":"eba9","./leaguebank.vue":"9f6c"};function r(e){var a=i(e);return t(a)}function i(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="c123"},e6b9:function(e,a,t){"use strict";var n={props:{tags:{type:Array,default:function(e){return[]}},active:{type:String,default:""}},computed:{currentTag:{get:function(){return this.active},set:function(e){this.$emit("update:active",e)}}}},r=(t("866f"),t("2877")),i=Object(r.a)(n,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},e._l(e.tags,(function(a){return t("span",{key:a.value,staticClass:"tags-view-item",class:{active:e.currentTag===a.value},on:{click:function(t){e.currentTag=a.value}}},[e._v(" "+e._s(a.label)+" ")])})),0)}),[],!1,null,"bff73f1c",null);a.a=i.exports},eba9:function(e,a,t){"use strict";t.r(a),t("4de4"),t("b0c0"),t("d3b7");var n=t("dfdf"),r=(t("96cf"),t("5fd8")),i={mixins:[t("2ddf").a],data:function(){return{loading:!1,listQuery:{name:"",withdrawStatus:""},queryColumns:[{type:"input",prop:"name",label:"银行名称"},{type:"select",prop:"withdrawStatus",label:"状态",options:r.b}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"银行名称",prop:"name",align:"left",valign:"middle",minWidth:"20%",visible:!0},{label:"银行url",prop:"url",align:"left",valign:"middle",minWidth:"10%",visible:!0},{label:"应用位置",prop:"bindCard",align:"left",valign:"middle",minWidth:"10%",visible:!0,render:function(){return"充值/提现"}},{label:"状态",prop:"withdrawStatus",align:"left",valign:"middle",minWidth:"10%",visible:!0,slotName:"state-column"}],data:[],checked:[],statusVisible:!1,handleType:0}},computed:{message:function(){return this.handleType?"确定停用该银行?":"确定启用该银行?"}},created:function(){this.getList()},methods:{getList:function(){var e,a,t=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loading=!0,n.next=3,regeneratorRuntime.awrap(this.$api.userBankCardList({isAll:1}));case 3:e=n.sent,a=e.data,this.data=a.filter((function(e){return!(""!==t.listQuery.name&&e.name!==t.listQuery.name||""!==t.listQuery.withdrawStatus&&e.withdrawStatus!==t.listQuery.withdrawStatus)})),this.loading=!1;case 7:case"end":return n.stop()}}),null,this)},handleSearch:function(){this.getList()},upOrDown:function(e){var a,t,r;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.checked[0].withdrawStatus!==e){i.next=2;break}return i.abrupt("return",!1);case 2:return a=this.checked[0],a.withdrawStatus,(t=Object(n.a)(a,["withdrawStatus"])).withdrawStatus=1-this.checked[0].withdrawStatus,i.next=6,regeneratorRuntime.awrap(this.$api.updateUserBankCardStatus({content:JSON.stringify(t)}));case 6:r=i.sent,!r.error&&this.$message.success("提交成功"),this.getList();case 10:case"end":return i.stop()}}),null,this)}}},s=t("2877"),l=Object(s.a)(i,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"module-query"},[t("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),t("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(a){e.listQuery=a}}})],1),t("div",{staticClass:"module-handle"},[t("div",[t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.upOrDown,args:0,validate:e.checkValidate},expression:"{ fn: upOrDown, args: 0, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("开启 ")],1),t("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.upOrDown,args:1,validate:e.checkValidate},expression:"{ fn: upOrDown, args: 1, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[t("svg-icon",{attrs:{"icon-class":"check-square"}}),e._v("停用 ")],1)]),t("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(a){e.tableColumns=a}}})],1),t("div",{staticClass:"container-wrap"},[t("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,height:"calc(100vh - 244px)","hidden-pagination":!0},on:{"selection-change":function(a){e.checked=a}},scopedSlots:e._u([{key:"state-column",fn:function(a){var n=a.row;return[t("div",{class:[n.withdrawStatus>0?"tag-orange":"tag-green"]},[e._v(" "+e._s(n.withdrawStatus>0?"停用":"启用")+" ")])]}}])})],1)])}),[],!1,null,null,null);a.default=l.exports},ff3d:function(e,a,t){"use strict";t.r(a),t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("159b");var n=t("2fa7"),r=t("e6b9"),i=(t("13d5"),t("d3b7"),t("ac1f"),t("5319"),t("ddb0"),t("c123")),s=i.keys().reduce((function(e,a){var t=a.replace(/^\.\/(.*)\.\w+$/,"$1"),n=i(a).default;return e[t]=n,e}),{});function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var o={components:function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(t,!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({moduleTags:r.a},s),data:function(){return{active:"leaguebank",tags:[{label:"平台收款银行",value:"leaguebank"},{label:"用户转账银行",value:"bankconfig"}]}}},c=t("2877"),u=Object(c.a)(o,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("moduleTags",{attrs:{tags:e.tags,active:e.active},on:{"update:active":function(a){e.active=a}}}),t(e.active,{tag:"component"})],1)}),[],!1,null,null,null);a.default=u.exports}}]);