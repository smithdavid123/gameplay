(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-39c7ecb2"],{"0629":function(e,t,a){"use strict";a.r(t),a("d3b7"),a("96cf");var n=[{value:0,label:"人工充值"},{value:1,label:"人工提款"}],r=[{value:1,label:"充值"},{value:2,label:"活动"},{value:3,label:"修正"},{value:4,label:"提款"},{value:5,label:"转账"}],i=[{value:0,label:"待确认"},{value:2,label:"已确认"},{value:-1,label:"拒绝"}],s={mixins:[a("2ddf").a],data:function(){return{loading:!1,total:0,listQuery:{page:1,userIn:"",userOut:"",sDate:"",eDate:"",transType:"",remarks:"",status:0},queryColumns:[{type:"input",prop:"userIn",label:"转入账号"},{type:"input",prop:"userOut",label:"转出账号"},{type:"select",prop:"transType",label:"转账类型",options:n},{type:"select",prop:"remarks",label:"明细",options:r},{type:"select",prop:"status",label:"状态",options:i},{type:"date",prop:["sDate","eDate"],label:"创建时间"}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"转入账号",prop:"userIn",align:"center",minWidth:"10%",visible:!0},{label:"转出账号",prop:"userOut",align:"center",minWidth:"10%",visible:!0},{label:"转账金额",prop:"amount",align:"center",minWidth:"10%",visible:!0},{label:"转账类型",prop:"transType",align:"center",minWidth:"10%",visible:!0,slotName:"transType-column"},{label:"明细",prop:"userInfo",align:"center",minWidth:"10%",visible:!0},{label:"状态",prop:"status",align:"center",minWidth:"10%",visible:!0,slotName:"status-column"},{label:"创建时间",prop:"createTime",align:"center",minWidth:"10%",visible:!0},{label:"审核时间",prop:"confirmTime",align:"center",minWidth:"10%",visible:!0,render:function(e){return"None"===e.confirmTime?"-":e.confirmTime}},{label:"审核人",prop:"confirmUser",align:"center",minWidth:"10%",visible:!0},{label:"备注",prop:"mark",align:"left",valign:"middle",minWidth:"10%",visible:!0}],data:[],checked:[],confirmType:0,confirmVisible:!1}},computed:{message:function(){return this.confirmType?"确认拒绝通过该记录吗？确认后将拒绝转账":"确认审核通过该记录吗？确认后将完成转账"}},mounted:function(){this.getList()},methods:{getList:function(){var e,t,a,n,r;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return this.loading=!0,e=Object.assign({},this.listQuery,{page:this.listQuery.page-1}),i.next=4,regeneratorRuntime.awrap(this.$api.getOperateMoney(e));case 4:t=i.sent,a=t.data,n=a.count,r=a.list,this.total=n,this.data=r,this.loading=!1;case 10:case"end":return i.stop()}}),null,this)},handleSearch:function(){this.listQuery.page=1,this.getList()},handleAudit:function(e){this.confirmType=e,this.confirmVisible=!0},sureConfirm:function(){var e,t,a,n,r,i;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=this.checked[0],t=e.account,a=e.billno,n=e.transType,r={username:t,issue:a,transType:n},!this.confirmType){s.next=8;break}return s.next=5,regeneratorRuntime.awrap(this.$api.operateRefuse(r));case 5:s.t0=s.sent,s.next=11;break;case 8:return s.next=10,regeneratorRuntime.awrap(this.$api.operateConfirm(r));case 10:s.t0=s.sent;case 11:i=s.t0,!i.error&&this.$message.success("提交成功"),this.getList(),this.confirmVisible=!1;case 16:case"end":return s.stop()}}),null,this)}}},l=a("2877"),o=Object(l.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module-query"},[a("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),a("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(t){e.listQuery=t}}})],1),a("div",{staticClass:"module-handle"},[a("div",[a("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.handleAudit,args:0,validate:e.checkValidate},expression:"{ fn: handleAudit, args: 0, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("审核 ")],1),a("div",{directives:[{name:"permission",rawName:"v-permission:3",value:{fn:e.handleAudit,args:1,validate:e.checkValidate},expression:"{ fn: handleAudit, args: 1, validate: checkValidate }",arg:"3"}],staticClass:"primary-btn"},[a("svg-icon",{attrs:{"icon-class":"up"}}),e._v("拒绝 ")],1)]),a("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(t){e.tableColumns=t}}})],1),a("div",{staticClass:"container-wrap"},[a("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,total:e.total,height:"calc(100vh - 300px)",page:e.listQuery.page},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},pagination:e.getList,"selection-change":function(t){e.checked=t}},scopedSlots:e._u([{key:"transType-column",fn:function(t){var n=t.row;return[a("div",{class:e._f("formatterTransferTypeTagClass")(n.transType)},[e._v(" "+e._s(e._f("formatterTransferType")(n.transType))+" ")])]}},{key:"status-column",fn:function(t){var n=t.row;return[a("div",{class:e._f("formatterTransferStatusTagClass")(n.status)},[e._v(" "+e._s(e._f("formatterTransferStatus")(n.status))+" ")])]}}])})],1),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"信息",visible:e.confirmVisible,width:"320px",top:"40vh"},on:{"update:visible":function(t){e.confirmVisible=t}}},[a("p",[e._v(" "+e._s(e.message)+" ")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureConfirm}},[e._v(" 确认 ")]),a("div",{staticClass:"disabled-btn small-btn ml16",on:{click:function(t){e.confirmVisible=!1}}},[e._v(" 取消 ")])])])],1)}),[],!1,null,null,null);t.default=o.exports},"866f":function(e,t,a){"use strict";var n=a("be57");a.n(n).a},be57:function(e,t,a){},c96f:function(e,t,a){var n={"./transfer.vue":"0629"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="c96f"},de83:function(e,t,a){"use strict";a.r(t),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("2fa7"),r=a("e6b9"),i=(a("13d5"),a("d3b7"),a("ac1f"),a("5319"),a("ddb0"),a("c96f")),s=i.keys().reduce((function(e,t){var a=t.replace(/^\.\/(.*)\.\w+$/,"$1"),n=i(t).default;return e[a]=n,e}),{});function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var o={components:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({moduleTags:r.a},s),data:function(){return{active:"transfer",tags:[{label:"人工转账记录",value:"transfer"}]}}},c=a("2877"),u=Object(c.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("moduleTags",{attrs:{tags:e.tags,active:e.active},on:{"update:active":function(t){e.active=t}}}),a(e.active,{tag:"component"})],1)}),[],!1,null,null,null);t.default=u.exports},e6b9:function(e,t,a){"use strict";var n={props:{tags:{type:Array,default:function(e){return[]}},active:{type:String,default:""}},computed:{currentTag:{get:function(){return this.active},set:function(e){this.$emit("update:active",e)}}}},r=(a("866f"),a("2877")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},e._l(e.tags,(function(t){return a("span",{key:t.value,staticClass:"tags-view-item",class:{active:e.currentTag===t.value},on:{click:function(a){e.currentTag=t.value}}},[e._v(" "+e._s(t.label)+" ")])})),0)}),[],!1,null,"bff73f1c",null);t.a=i.exports}}]);