(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69a8aa26"],{"199f":function(e,t,a){"use strict";a.r(t),a("99af"),a("d3b7");var n=a("dfdf"),i=(a("96cf"),a("2ddf")),o=a("623f"),l={mixins:[i.a],data:function(){return{request:!1,loading:!1,total:0,listQuery:{page:1,size:20,username:"",parent:"",limit1:"",limit2:"",status:"",withPlatform:0},queryColumns:[{type:"input",prop:"username",label:"契约用户"},{type:"input",prop:"parent",label:"契约上级"},{type:"check",prop:"withPlatform",label:"只显示平台",flag:!0},{type:"select",prop:"status",label:"状态",options:o.a},{type:"input",prop:"limit1",label:"分红比例大于"},{type:"input",prop:"limit2",label:"分红比例小于"}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"契约用户",prop:"uSecond",align:"center",visible:!0,minWidth:"10%"},{label:"契约上级",prop:"parent",align:"center",visible:!0,minWidth:"10%",render:function(e){return e.parent?e.parent:"平台"}},{label:"分红比例",prop:"scalePoint",align:"center",minWidth:"10%",visible:!0,render:function(e){return e.scalePoint?"".concat(e.scalePoint,"%"):"-"}},{label:"活跃用户",prop:"activeUser",align:"center",visible:!0,minWidth:"10%"},{label:"额外比例",prop:"extraRules",align:"center",minWidth:"10%",visible:!0,render:function(e){var t=JSON.parse(e.extraRules);return t.length?1===t.length?"".concat(t[0].scalePoint,"%~").concat(t[0].scalePoint,"%"):"".concat(t[0].scalePoint,"%~").concat(t[t.length-1].scalePoint,"%"):"-"}},{label:"状态",prop:"status",align:"center",minWidth:"10%",visible:!0,slotName:"status-column"}],data:[],checked:[],step:1,handleType:0,addVisible:!1,addForm:{username:""},addFormColumns:[{type:"input",label:"会员名称",prop:"username",placeholder:"必填",rules:[{required:!0,message:"请输入会员名称",trigger:"blur"}]}],form:{id:-1,username:"",parent:"",accountFrom:"",accountTo:"",activeUser:"",scalePoint:"",extraRules:[]},formColumns:[{type:"input",label:"契约用户",prop:"username",placeholder:"必填",disabled:!0},{type:"input",label:"契约上级",prop:"parent",disabled:!0},{type:"input",label:"活跃用户",prop:"activeUser"},{type:"input",label:"分红比例",prop:"scalePoint"},{type:"handle",label:"添加",slotName:"add-column"},{label:"额外配置",prop:"extraRules",slotName:"extraRules-column"}],formTableColumns:[{label:"周期消费(万)",prop:"totalConsume",align:"left",minWidth:"25%",visible:!0,slotName:"totalConsume-column"},{label:"周期亏损(万)",prop:"totalLoss",align:"left",minWidth:"25%",visible:!0,slotName:"totalLoss-column"},{label:"活跃用户",prop:"activeUser",align:"left",minWidth:"25%",visible:!0,slotName:"activeUser-column"},{label:"分红比例(%)",prop:"scalePoint\t",align:"left",minWidth:"25%",visible:!0,slotName:"scalePoint-column"}],removeVisible:!1}},created:function(){this.getList()},methods:{getList:function(){var e,t,a,n,i;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.loading=!0,e=Object.assign({},this.listQuery,{page:this.listQuery.page-1}),o.next=4,regeneratorRuntime.awrap(this.$api.getDividendList(e));case 4:t=o.sent,a=t.data,n=a.list,i=a.totalCount,this.data=n,this.total=i,this.loading=!1;case 10:case"end":return o.stop()}}),null,this)},handleSearch:function(){this.listQuery.page=1,this.getList()},addExtraRulesItem:function(){this.form.extraRules.push({totalConsume:0,scalePoint:0,activeUser:0,totalLoss:0})},handleAdd:function(){var e=this;this.step=1,this.handleType=0,this.addVisible=!0,this.$nextTick((function(){e.form=e.$options.data().form,e.addForm.username="",e.$refs.jsonForm.clearValidate()}))},handleEdit:function(){var e=this;this.step=2,this.handleType=1,this.addVisible=!0,this.$nextTick((function(){e.$refs.jsonForm.clearValidate(),e.form.id=e.checked[0].id,e.form.username=e.checked[0].uSecond,e.form.parent=e.checked[0].parent,e.form.accountFrom=e.checked[0].accountFrom,e.form.accountTo=e.checked[0].accountTo,e.form.activeUser=e.checked[0].activeUser,e.form.scalePoint=e.checked[0].scalePoint,e.form.extraRules=JSON.parse(e.checked[0].extraRules)}))},sureAdd:function(){var e=this;this.$refs.jsonForm.validate((function(t){var a,i,o,l;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.form,i=a.extraRules,(o=Object(n.a)(a,["extraRules"])).extraRules=JSON.stringify(i),t.next=4,regeneratorRuntime.awrap(e.$api.setDividend(o));case 4:l=t.sent,!l.error&&e.$message.success("提交成功"),e.getList(),e.addVisible=!1;case 9:case"end":return t.stop()}}))}))},sureSearch:function(){var e=this;this.$refs.jsonForm.validate((function(t){var a;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(e.$api.preAddDividend(e.addForm));case 2:"string"==typeof(a=t.sent)?e.$message.error(a):(!a.error&&e.$message("提交成功"),e.getList(),e.addVisible=!1);case 4:case"end":return t.stop()}}))}))},sureRemove:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$api.delDividend({id:this.checked[0].id}));case 2:e=t.sent,!e.error&&this.$message.success("删除成功"),this.getList(),this.removeVisible=!1;case 7:case"end":return t.stop()}}),null,this)}}},r=a("2877"),s=Object(r.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module-query"},[a("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),a("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(t){e.listQuery=t}}})],1),a("div",{staticClass:"module-handle"},[a("div",[a("div",{staticClass:"primary-btn",on:{click:function(t){return e.handleAdd()}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("增加 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&e.handleEdit()}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("编辑 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&(e.removeVisible=!0)}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("删除 ")],1)]),a("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(t){e.tableColumns=t}}})],1),a("div",{staticClass:"container-wrap"},[a("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,total:e.total,height:"calc(100vh - 300px)",page:e.listQuery.page},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"selection-change":function(t){e.checked=t},pagination:e.getList},scopedSlots:e._u([{key:"status-column",fn:function(t){var n=t.row;return[a("div",{class:e._f("formatterDividendStatusTagClass")(n.status)},[e._v(" "+e._s(e._f("formatterDividendStatus")(n.status))+" ")])]}}])})],1),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"契约分红-"+(e.handleType?"编辑":"新增"),visible:e.addVisible,width:"50%"},on:{"update:visible":function(t){e.addVisible=t}}},[a("div",{staticClass:"module-form-scroll"},[a("el-scrollbar",[e.handleType?a("json-form",{ref:"jsonForm",attrs:{form:e.form,columns:e.formColumns,"label-width":"140px"},scopedSlots:e._u([{key:"extraRules-column",fn:function(t){var n=t.formData,i=t.item;return[a("table-page",{ref:"paraentTable",attrs:{data:n[i.prop],columns:e.formTableColumns,"hidden-pagination":!0},scopedSlots:e._u([{key:"totalConsume-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.totalConsume,callback:function(t){e.$set(n,"totalConsume",e._n(t))},expression:"row.totalConsume"}})]}},{key:"totalLoss-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.totalLoss,callback:function(t){e.$set(n,"totalLoss",e._n(t))},expression:"row.totalLoss"}})]}},{key:"activeUser-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.activeUser,callback:function(t){e.$set(n,"activeUser",e._n(t))},expression:"row.activeUser"}})]}},{key:"scalePoint-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.scalePoint,callback:function(t){e.$set(n,"scalePoint",e._n(t))},expression:"row.scalePoint"}})]}}],null,!0)})]}}],null,!1,2177276201)},[a("template",{slot:"add-column"},[a("div",{staticClass:"fr mb10"},[a("div",{staticClass:"primary-btn",on:{click:e.addExtraRulesItem}},[e._v(" 添加 ")])])])],2):a("json-form",{ref:"jsonForm",attrs:{form:e.addForm,columns:e.addFormColumns,"label-width":"140px"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.handleType?a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureAdd}},[e._v(" 保存 ")]):a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureSearch}},[e._v(" 确定 ")]),a("div",{staticClass:"disabled-btn small-btn",staticStyle:{"margin-left":"16px"},on:{click:function(t){e.addVisible=!1}}},[e._v(" 取消 ")])])]),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"信息",visible:e.removeVisible,width:"360px",top:"40vh"},on:{"update:visible":function(t){e.removeVisible=t}}},[a("p",[e._v("确认删除此数据?")]),a("div",{staticClass:"dialog-footer ta",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureRemove}},[e._v(" 确认 ")]),a("div",{staticClass:"disabled-btn small-btn ml16",on:{click:function(t){e.removeVisible=!1}}},[e._v(" 取消 ")])])])],1)}),[],!1,null,null,null);t.default=s.exports},"5c06":function(e,t,a){"use strict";a.r(t),a("4de4"),a("4160"),a("d81d"),a("b0c0"),a("b64b"),a("d3b7"),a("159b"),a("96cf");var n={data:function(){return{loading:!0,listQuery:{},formData:{},form:{runDate:"",userGroup:"",consumeDays:"",consumeAmount:"",scalePoint:"",activeUser:"",extraRules:[]},memberGroup:[],formColumns:[{type:"input",label:"分红日期",prop:"runDate",placeholder:"必填"},{type:"select",label:"用户类型",prop:"userGroup",options:[],rules:[{required:!0,message:"请选择用户类型",trigger:"change"}]},{type:"number",label:"活跃用户最低达标天数(天)",prop:"consumeDays"},{type:"number",label:"活跃用户最低每日消费(元)",prop:"consumeAmount"},{type:"input",label:"分红比例(%)",prop:"scalePoint",placeholder:"必填"},{type:"input",label:"活跃用户",prop:"activeUser",placeholder:"必填"},{type:"handle",label:"添加",slotName:"add-column"},{label:"额外配置",prop:"extraRules",slotName:"extraRules-column"}],formTableColumns:[{label:"周期消费(万)",prop:"totalConsume",align:"left",minWidth:"25%",visible:!0,slotName:"totalConsume-column"},{label:"周期亏损(万)",prop:"totalLoss",align:"left",minWidth:"25%",visible:!0,slotName:"totalLoss-column"},{label:"活跃用户",prop:"activeUser",align:"left",minWidth:"25%",visible:!0,slotName:"activeUser-column"},{label:"分红比例(%)",prop:"scalePoint\t",align:"left",minWidth:"25%",visible:!0,slotName:"scalePoint-column"}]}},created:function(){this.getConfig(),this.getList()},methods:{getConfig:function(){var e,t,a=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loading=!0,n.next=3,regeneratorRuntime.awrap(this.$api.listSystemDividend());case 3:e=n.sent,t=e.data,this.formData=t,this.$nextTick((function(e){Object.keys(a.form).forEach((function(e){a.form[e]="extraRules"===e?JSON.parse(t.rules[e]):void 0===t[e]?t.rules[e]:t[e]}))})),this.loading=!1;case 8:case"end":return n.stop()}}),null,this)},getList:function(){var e,t;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.$api.getUserGroup());case 2:e=a.sent,t=e.data,this.memberGroup=t,this.formColumns[1].options=t.map((function(e){return{label:e.name,value:e.code}}));case 6:case"end":return a.stop()}}),null,this)},addExtraRule:function(){this.form.extraRules.push({activeUser:"",scalePoint:"",totalConsume:"",totalLoss:""})},handleSearch:function(){},handleUpdate:function(){var e=this;this.$refs.jsonForm.validate((function(t){var a,n;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.keys(e.form).forEach((function(t){void 0===e.formData[t]?e.formData.rules[t]=e.form[t]:e.formData[t]=e.form[t]})),a=e.memberGroup.filter((function(t){return t.code===e.form.userGroup}))[0],e.formData.pointLimit1=a.pointLimit1,e.formData.pointLimit2=a.pointLimit2,e.formData.pointLimit=[a.pointLimit1,a.pointLimit2],t.next=7,regeneratorRuntime.awrap(e.$api.changeConfigDividend({content:JSON.stringify([e.formData])}));case 7:n=t.sent,!n.error&&e.$message.success("提交成功"),e.getConfig(),e.editVisible=!1;case 12:case"end":return t.stop()}}))}))}}},i=a("2877"),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module-query pb14"},[a("div",{staticClass:"module-query-left"}),a("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(t){e.listQuery=t}}})],1),a("div",{staticClass:"module-handle"},[a("div",[a("div",{staticClass:"primary-btn",on:{click:e.handleUpdate}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("更新 ")],1)])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container-wrap"},[a("json-form",{ref:"jsonForm",attrs:{form:e.form,columns:e.formColumns,"label-width":"180px"},scopedSlots:e._u([{key:"extraRules-column",fn:function(t){var n=t.formData,i=t.item;return[a("table-page",{ref:"paraentTable",attrs:{data:n[i.prop],columns:e.formTableColumns,"hidden-pagination":!0},scopedSlots:e._u([{key:"totalConsume-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.totalConsume,callback:function(t){e.$set(n,"totalConsume",e._n(t))},expression:"row.totalConsume"}})]}},{key:"totalLoss-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.totalLoss,callback:function(t){e.$set(n,"totalLoss",e._n(t))},expression:"row.totalLoss"}})]}},{key:"activeUser-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.activeUser,callback:function(t){e.$set(n,"activeUser",e._n(t))},expression:"row.activeUser"}})]}},{key:"scalePoint-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.scalePoint,callback:function(t){e.$set(n,"scalePoint",e._n(t))},expression:"row.scalePoint"}})]}}],null,!0)})]}}])},[a("template",{slot:"add-column"},[a("div",{staticClass:"fr mb10"},[a("div",{staticClass:"primary-btn",on:{click:e.addExtraRule}},[e._v(" 添加 ")])])])],2)],1)])}),[],!1,null,null,null);t.default=o.exports},"623f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=[{value:0,label:"待确认"},{value:1,label:"已签订"},{value:-1,label:"拒绝分红"},{value:null,label:"未签订"}],i=[{value:0,label:"待处理"},{value:1,label:"已发放"},{value:2,label:"已拒绝"}]},"72d7":function(e,t,a){var n={"./dividendConfig.vue":"5c06","./dividendLog.vue":"bcf9","./dividendMember.vue":"199f","./memberGroup.vue":"dce4"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="72d7"},"866f":function(e,t,a){"use strict";var n=a("be57");a.n(n).a},"9f0e":function(e,t,a){"use strict";a.r(t),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("2fa7"),i=a("e6b9"),o=(a("13d5"),a("d3b7"),a("ac1f"),a("5319"),a("ddb0"),a("72d7")),l=o.keys().reduce((function(e,t){var a=t.replace(/^\.\/(.*)\.\w+$/,"$1"),n=o(t).default;return e[a]=n,e}),{});function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var s={components:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({moduleTags:i.a},l),data:function(){return{active:"memberGroup",tags:[{label:"契约分红用户组",value:"memberGroup"},{label:"契约配置",value:"dividendConfig"},{label:"契约分红列表",value:"dividendMember"},{label:"契约分红记录",value:"dividendLog"}]}}},c=a("2877"),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("moduleTags",{attrs:{tags:e.tags,active:e.active},on:{"update:active":function(t){e.active=t}}}),a(e.active,{tag:"component"})],1)}),[],!1,null,null,null);t.default=u.exports},bcf9:function(e,t,a){"use strict";a.r(t),a("d3b7"),a("96cf");var n=a("2ddf"),i=a("623f"),o={mixins:[n.a],data:function(){return{loading:!1,total:0,listQuery:{page:1,size:20,username:"",parent:"",bTime:"",sTime:"",consume1:"",consume2:"",amount1:"",amount2:"",status:0},queryColumns:[{type:"input",prop:"username",label:"契约用户"},{type:"input",prop:"parent",label:"契约上级"},{type:"date",prop:["bTime","sTime"],label:"分红期"},{type:"select",prop:"status",label:"状态",options:i.b},{type:"input",prop:"consume1",label:"消费金额大于"},{type:"input",prop:"consume2",label:"消费金额小于"},{type:"input",prop:"amount1",label:"分红金额大于"},{type:"input",prop:"amount2",label:"分红金额小于"}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"分红期",prop:"issue",align:"left",visible:!0,minWidth:"15%"},{label:"契约用户",prop:"username",align:"left",visible:!0,minWidth:"10%"},{label:"契约上级",prop:"parent",align:"left",visible:!0,minWidth:"10%",render:function(e){return e.parent?e.parent:"平台"}},{label:"消费量",prop:"totalConsume",align:"left",visible:!0,minWidth:"10%"},{label:"亏损量",prop:"totalLoss",align:"left",visible:!0,minWidth:"10%"},{label:"活跃用户",prop:"activeUser",align:"left",visible:!0,minWidth:"10%"},{label:"分红比例",prop:"scalePoint",align:"left",visible:!0,minWidth:"10%",render:function(e){return e.scalePoint?"".concat(e.scalePoint,"%"):"-"}},{label:"分红金额",prop:"amount",align:"left",visible:!0,minWidth:"10%"},{label:"发放时间",prop:"drawTime",align:"left",visible:!0,minWidth:"15%"},{label:"状态",prop:"status",align:"left",visible:!0,minWidth:"10%",slotName:"status-column"},{label:"创建时间",prop:"createTime",align:"left",visible:!1,minWidth:"10%"}],data:[],checked:[],confirmVisible:!1,handleType:0}},computed:{message:function(){return["确定要计算上一周期的分红吗？？已经发放的不再生成","确认发放已选中的记录？","确认拒绝已选中的记录？"][this.handleType]}},created:function(){this.getList()},methods:{getList:function(){var e,t,a,n,i;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.loading=!0,e=Object.assign({},this.listQuery,{page:this.listQuery.page-1}),o.next=4,regeneratorRuntime.awrap(this.$api.getIssueRecord(e));case 4:t=o.sent,a=t.data,n=a.count,i=a.list,this.total=n,this.data=i,this.loading=!1;case 10:case"end":return o.stop()}}),null,this)},handleSearch:function(){this.listQuery.page=1,this.getList()},handleConfirm:function(e){this.handleType=e,this.confirmVisible=!0},sureConfirm:function(){}}},l=a("2877"),r=Object(l.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module-query"},[a("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),a("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(t){e.listQuery=t}}})],1),a("div",{staticClass:"module-handle"},[a("div",[a("div",{staticClass:"primary-btn",on:{click:function(t){return e.handleConfirm(0)}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("计算分红 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&e.handleConfirm(1)}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("批量发放 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&e.handleConfirm(2)}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("批量拒绝 ")],1)]),a("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(t){e.tableColumns=t}}})],1),a("div",{staticClass:"container-wrap"},[a("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,total:e.total,height:"calc(100vh - 300px)",page:e.listQuery.page},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"selection-change":function(t){e.checked=t},pagination:e.getList},scopedSlots:e._u([{key:"status-column",fn:function(t){var n=t.row;return[a("div",{class:e._f("formatterDividendStatusTagClass")(n.status)},[e._v(" "+e._s(e._f("formatterDividendStatus2")(n.status))+" ")])]}}])})],1),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"信息",visible:e.confirmVisible,width:"300px",top:"40vh"},on:{"update:visible":function(t){e.confirmVisible=t}}},[e._v(" "+e._s(e.message)+" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureConfirm}},[e._v(" 保存 ")]),a("div",{staticClass:"disabled-btn small-btn",staticStyle:{"margin-left":"16px"},on:{click:function(t){e.confirmVisible=!1}}},[e._v(" 取消 ")])])])],1)}),[],!1,null,null,null);t.default=r.exports},be57:function(e,t,a){},dce4:function(e,t,a){"use strict";a.r(t),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b");var n=a("2fa7");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}a("96cf");var o={mixins:[a("2ddf").a],data:function(){return{loading:!0,total:0,listQuery:{page:1,groupName:""},queryColumns:[{type:"input",prop:"groupName",label:"用户组名称"}],tableColumns:[{type:"selection",width:"55",align:"center"},{label:"唯一编码",prop:"code",align:"left",visible:!0,minWidth:"10%"},{label:"用户组名称",prop:"name",align:"left",visible:!0,minWidth:"10%"},{label:"级别",prop:"level",align:"left",visible:!0,minWidth:"10%"},{label:"最低奖级",prop:"pointLimit1",align:"left",visible:!0,minWidth:"10%"},{label:"最高奖级",prop:"pointLimit2",align:"left",visible:!0,minWidth:"10%"},{label:"下级配额",prop:"agent",align:"left",visible:!0,minWidth:"10%"},{label:"允许平级开号",prop:"allowEqualCode",align:"left",visible:!0,minWidth:"10%",slotName:"allowEqualCode-column"}],data:[],checked:[],addVisible:!1,handleType:0,form:{id:-1,code:"",name:"",level:"",pointLimit1:"",pointLimit2:"",agent:"",allowEqualCode:1},formColumns:[{type:"input",label:"唯一编码",prop:"code",placeholder:"必填"},{type:"input",label:"用户组名称",prop:"name",placeholder:"必填"},{type:"number",label:"级别",prop:"level",placeholder:"必填"},{type:"number",label:"最低奖级",prop:"pointLimit1",placeholder:"必填"},{type:"number",label:"最高奖级",prop:"pointLimit2",placeholder:"必填"},{type:"input",label:"下级配额 ",prop:"agent",placeholder:"必填"},{type:"radio",label:"允许平级开号 ",prop:"allowEqualCode",options:[{label:"允许",value:1},{label:"不允许",value:0}]}],removeVisible:!1}},created:function(){this.getList()},methods:{getList:function(){var e,t;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.loading=!0,a.next=3,regeneratorRuntime.awrap(this.$api.getUserGroup());case 3:e=a.sent,t=e.data,this.data=t,this.loading=!1;case 7:case"end":return a.stop()}}),null,this)},handleSearch:function(){},handleAdd:function(){var e=this;this.handleType=0,this.addVisible=!0,this.$nextTick((function(){e.form=e.$options.data().form}))},handleEdit:function(){var e=this;this.handleType=1,this.addVisible=!0,this.$nextTick((function(){e.$refs.jsonForm.clearValidate(),e.form=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.checked[0])}))},sureAdd:function(){var e=this;this.$refs.jsonForm.validate((function(t){var a;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(e.$api.addUserGroup(e.form));case 2:a=t.sent,!a.error&&e.$message.success("提交成功"),e.getList(),e.addVisible=!1;case 7:case"end":return t.stop()}}))}))},sureRemove:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$api.delUserGroup({id:this.checked[0].id}));case 2:e=t.sent,!e.error&&this.$message.success("删除成功"),this.getList(),this.removeVisible=!1;case 7:case"end":return t.stop()}}),null,this)}}},l=a("2877"),r=Object(l.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module-query"},[a("MapQuery",{attrs:{query:e.listQuery,columns:e.queryColumns}}),a("SearchBtn",{attrs:{query:e.listQuery},on:{"update:query":function(t){e.listQuery=t}}})],1),a("div",{staticClass:"module-handle"},[a("div",[a("div",{staticClass:"primary-btn",on:{click:function(t){return e.handleAdd()}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("增加 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&e.handleEdit()}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("编辑 ")],1),a("div",{staticClass:"primary-btn",on:{click:function(t){e.checkValidate()&&(e.removeVisible=!0)}}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),e._v("删除 ")],1)]),a("ColumnBtn",{attrs:{columns:e.tableColumns},on:{"update:columns":function(t){e.tableColumns=t}}})],1),a("div",{staticClass:"container-wrap"},[a("table-page",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"paraentTable",attrs:{data:e.data,columns:e.tableColumns,total:e.total,height:"calc(100vh - 300px)",page:e.listQuery.page},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"selection-change":function(t){e.checked=t},pagination:e.getList},scopedSlots:e._u([{key:"allowEqualCode-column",fn:function(t){var n=t.row;return[a("div",{class:[n.allowEqualCode?"tag-green":"tag-red"]},[e._v(" "+e._s(n.allowEqualCode?"允许":"不允许")+" ")])]}}])})],1),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"契约分红用户组-"+(e.handleType?"编辑":"新增"),visible:e.addVisible,width:"50%"},on:{"update:visible":function(t){e.addVisible=t}}},[a("div",{staticClass:"module-form-scroll"},[a("el-scrollbar",[a("json-form",{ref:"jsonForm",attrs:{form:e.form,columns:e.formColumns,"label-width":"140px"},scopedSlots:e._u([{key:"actRules-column",fn:function(t){var n=t.formData,i=t.item;return[a("table-page",{ref:"paraentTable",attrs:{data:n[i.prop],columns:e.formTableColumns,"hidden-pagination":!0},scopedSlots:e._u([{key:"depositMoney-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.depositMoney,callback:function(t){e.$set(n,"depositMoney",e._n(t))},expression:"row.depositMoney"}})]}},{key:"proportionDiscount-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.proportionDiscount,callback:function(t){e.$set(n,"proportionDiscount",e._n(t))},expression:"row.proportionDiscount"}})]}},{key:"singleDiscountMax-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.singleDiscountMax,callback:function(t){e.$set(n,"singleDiscountMax",e._n(t))},expression:"row.singleDiscountMax"}})]}},{key:"fixedDiscount-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.fixedDiscount,callback:function(t){e.$set(n,"fixedDiscount",e._n(t))},expression:"row.fixedDiscount"}})]}},{key:"flowMultiple-column",fn:function(t){var n=t.row;return[a("el-input",{attrs:{"auto-complete":"off"},model:{value:n.flowMultiple,callback:function(t){e.$set(n,"flowMultiple",e._n(t))},expression:"row.flowMultiple"}})]}}],null,!0)})]}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureAdd}},[e._v(" 保存 ")]),a("div",{staticClass:"disabled-btn small-btn",staticStyle:{"margin-left":"16px"},on:{click:function(t){e.addVisible=!1}}},[e._v(" 取消 ")])])]),a("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:"信息",visible:e.removeVisible,width:"360px",top:"40vh"},on:{"update:visible":function(t){e.removeVisible=t}}},[a("p",[e._v("确认删除此数据?")]),a("div",{staticClass:"dialog-footer ta",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"primary-btn small-btn",on:{click:e.sureRemove}},[e._v(" 确认 ")]),a("div",{staticClass:"disabled-btn small-btn ml16",on:{click:function(t){e.removeVisible=!1}}},[e._v(" 取消 ")])])])],1)}),[],!1,null,null,null);t.default=r.exports},e6b9:function(e,t,a){"use strict";var n={props:{tags:{type:Array,default:function(e){return[]}},active:{type:String,default:""}},computed:{currentTag:{get:function(){return this.active},set:function(e){this.$emit("update:active",e)}}}},i=(a("866f"),a("2877")),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},e._l(e.tags,(function(t){return a("span",{key:t.value,staticClass:"tags-view-item",class:{active:e.currentTag===t.value},on:{click:function(a){e.currentTag=t.value}}},[e._v(" "+e._s(t.label)+" ")])})),0)}),[],!1,null,"bff73f1c",null);t.a=o.exports}}]);